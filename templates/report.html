{% extends "base.html" %}

{% block content %}
    {% load staticfiles %}

    <!-- {{ query_result }} -->
    <h2 class="my-repositories-heading" style="font-family: 'Francois One', sans-serif;">{{ report.name }}</h2>

    <div class="large-12 columns card">
        {% for result in query_result %}
            {% if forloop.counter <= 4 %}
                <div class="large-6 columns" style="float:left;">
                    <div class="large-8 columns" style="margin-bottom: 10px;">
                        <a href="/authors/detail/{{ result.pk }}"><h5 class="blue-clicky-text"><b>{{ result.name }}</b></h5></a>
                    </div>
                    <div class="large-4 columns" style="font-size:19px;color:darkblue;">
                        {{ result.num_commits }}
                        &nbsp;<div style="font-size:12px;color:black;">commits</div>
                    </div>
                </div>
            {% else %}
                <div class="hide extra_committers">
                    <div class="large-6 columns" style="float:left;">
                        <div class="large-8 columns" style="margin-bottom: 10px;">
                            <a href="/authors/detail/{{ result.pk }}"><h5 class="blue-clicky-text"><b>{{ result.name }}</b></h5></a>
                        </div>
                        <div class="large-4 columns" style="font-size:19px;color:darkblue;">
                            {{ result.num_commits }}
                            &nbsp;<div style="font-size:12px;color:black;">commits</div>
                        </div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
        <div class="large-12 columns commithider blue-clicky-text" style="text-align: center; margin-top: 10px; color: black;">
            {% if query_result.count > 4 %}
                View All ({{ query_result.count }})
            {% endif %}
        </div>
    </div>

{% endblock %}
{% block extra_js %}
<script>
$(document).ready(function(){
    $(".commithider").click(
        function(e){
            e.preventDefault();
            $(".extra_committers").slideToggle(200,function() {
                $(".commithider").text($(this).is(':visible') ? "Show Less" : "View All ({{ query_result.count }})");
            });
        }
    )
});
</script>
{% endblock %}